# Environment variables for TRTH Employee Assessment System
# Copy this file to .env.local and fill in your values

# =============================================================================
# NextAuth Configuration
# =============================================================================
# Base URL for the application
NEXTAUTH_URL=http://localhost:3000

# Secret key for signing tokens (generate with: openssl rand -base64 32)
NEXTAUTH_SECRET=your-nextauth-secret-generate-with-openssl

# =============================================================================
# Azure AD / Microsoft Entra ID Configuration
# =============================================================================
# For Permanent Staff Authentication
# Get these from Azure Portal > App Registrations

AZURE_AD_CLIENT_ID=your-azure-ad-client-id
AZURE_AD_CLIENT_SECRET=your-azure-ad-client-secret
AZURE_AD_TENANT_ID=your-azure-ad-tenant-id

# Required API Permissions:
# - User.Read (Delegated)
# - Sites.Read.All (Application)
# - Sites.ReadWrite.All (Application) - for updating assessments

# Redirect URIs (configure in Azure Portal):
# - http://localhost:3000/api/auth/callback/azure-ad
# - https://your-production-url.com/api/auth/callback/azure-ad

# =============================================================================
# SharePoint Configuration
# =============================================================================
# SharePoint Site ID (get from Graph Explorer or PowerShell)
# Query: GET https://graph.microsoft.com/v1.0/sites/{hostname}:/sites/{site-name}
SHAREPOINT_SITE_ID=your-sharepoint-site-id

# Full SharePoint Site URL
SHAREPOINT_SITE_URL=https://yourtenant.sharepoint.com/sites/yoursite

# Required SharePoint Lists:
# - TRTH_Master_Employee (Employee master data)
# - TRTH_Assessments (Assessment records)
# - TRTH_Questions (Optional - KPI questions)
# - TRTH_Responses (Optional - detailed responses)

# =============================================================================
# Graph API Configuration
# =============================================================================
# Default scope for Microsoft Graph API
GRAPH_API_SCOPES=https://graph.microsoft.com/.default

# =============================================================================
# Feature Flags (Optional)
# =============================================================================
# Enable/disable dual authentication
ENABLE_CREDENTIALS_AUTH=true

# Enable/disable Smart Skip Logic
ENABLE_SMART_SKIP=true

# Enable/disable auto email resolution
ENABLE_AUTO_EMAIL_RESOLUTION=true

# =============================================================================
# Development Settings (Optional)
# =============================================================================
# Enable debug logging
DEBUG=false

# Mock SharePoint data for development
USE_MOCK_DATA=false

# =============================================================================
# Production Settings
# =============================================================================
# Update these for production deployment:
# - NEXTAUTH_URL â†’ Your production URL
# - Add production redirect URI to Azure AD
# - Update Power Automate flows with production URL
# - Verify SharePoint permissions in production environment
